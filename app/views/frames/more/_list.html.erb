<div class="grid grid-cols-1 sm:grid-cols-4 items-start" data-controller="lightbox">
<% frames.each do |frame| %>
  <div class="card bg-base-100 shadow rounded-[20px] ml-2 mr-2 mb-2">
    <div class="card-body">
      <% if user_signed_in? && frame.user_id == current_user.id %>
      <div class="flex justify-start">
        <div class="badge badge-xs badge-outline badge-accent rounded-full"><%= t("enums.private.#{frame.private}") %></div>
      </div>
      <% end %>
      <% if frame.file.present? %>
        <%= link_to image_tag(frame.file_proxy_url(:six), class: ""), frame.file_proxy_url(:original),
                    class: "mx-auto lb" %>
      <% end %>
      <% @tag_paths = tag_paths(frame) %>
      <% if @tag_paths.size > 0 %>
      <div class="flex justify-center flex-wrap gap-1">
        <%= render ::Preview::Tags::Component.new(tag_paths: @tag_paths, list: true) %>
      </div>
      <% end %>
      <div class="flex justify-center">
        <div class="mx-auto">
          <%= link_to frame.name, frame_path(frame, params: query_map_for_frame(from:, page: pagy.page)),
                      class: "link link-hover",
                      "data-turbo": true %>
        </div>
      </div>
    </div>
  </div>
<% end %>
</div>
